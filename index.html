<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trajektory Sponsorship Valuator | NBA Market Intelligence</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Inter:wght@300;400;500;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="dark-theme">
    <div class="app-container">
        <header>
            <div class="logo-container">
                <div class="logo-icon">TR</div>
                <h1>Trajektory <span>Sponsorship Valuator</span></h1>
            </div>
            <p class="tagline">Strategic NBA Market Valuation powered by US Census Data</p>
        </header>

        <main>
            <section class="global-strategy-bar card glass-card">
                <div class="strategy-grid">
                    <div class="input-group">
                        <label for="target-brand">Global Brand Persona</label>
                        <select id="target-brand">
                            <option value="Luxury Automotive">Luxury Automotive</option>
                            <option value="Fintech / Crypto">Fintech / Crypto</option>
                            <option value="Mass Market Retail" selected>Mass Market Retail</option>
                            <option value="Health & Wellness">Health & Wellness</option>
                            <option value="Global Beverage">Global Beverage</option>
                            <option value="International Brand">International Brand</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label>Efficiency Value Mode</label>
                        <div class="toggle-group" style="padding: 0; border: none; margin: 0;">
                            <span class="toggle-label">Exclude Scale Factors</span>
                            <label class="switch">
                                <input type="checkbox" id="efficiency-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                    <div class="input-group">
                        <label>Non-US Brand (Global)</label>
                        <div class="toggle-group" style="padding: 0; border: none; margin: 0;">
                            <span class="toggle-label">Apply Global Multipliers</span>
                            <label class="switch">
                                <input type="checkbox" id="international-toggle">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </section>

            <nav class="tabs">
                <button class="tab-btn active" data-tab="valuator">Strategic Valuator</button>
                <button class="tab-btn" data-tab="comparison">Market Comparison</button>
            </nav>

            <div id="valuator-tab" class="tab-content active">
                <section class="input-grid">
                    <div class="card glass-card">
                        <h2><span class="step-num">01</span> Asset Baseline</h2>
                        <div class="input-group">
                            <label for="asset-name">Asset Type / Category</label>
                            <select id="asset-name">
                                <option value="Broadcast" selected>Broadcast (TV/Digital)</option>
                                <option value="In-Venue">In-Venue (Signage/LED)</option>
                                <option value="Social">Social / Digital Halo</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="baseline-value">Raw Market Value ($)</label>
                            <div class="currency-input">
                                <span class="currency-symbol">$</span>
                                <input type="number" id="baseline-value" value="200000">
                            </div>
                        </div>
                    </div>

                    <div class="card glass-card">
                        <h2><span class="step-num">02</span> Brand Persona Focus</h2>
                        <div class="input-row">
                            <div class="input-group">
                                <label for="brand-target-age">Target Age</label>
                                <input type="number" id="brand-target-age" value="34" placeholder="e.g., 34">
                            </div>
                            <div class="input-group">
                                <label for="brand-target-hhi">Ideal Min. HHI ($)</label>
                                <input type="number" id="brand-target-hhi" value="70000" step="5000">
                            </div>
                        </div>
                        <div class="input-group">
                            <label for="brand-target-digital">Digital Affinity Focus (%)</label>
                            <input type="range" id="brand-target-digital" min="0" max="100" value="85">
                            <span id="digital-focus-val" class="range-val">85%</span>
                        </div>
                    </div>

                    <div class="card glass-card">
                        <h2><span class="step-num">03</span> NBA Market Context</h2>
                        <div class="input-group">
                            <label>Strategic Priority Multiplier</label>
                            <select id="brand-priority">
                                <option value="1.2">Aggressive Growth (1.2x base)</option>
                                <option value="1.0" selected>Standard Alignment (1.0x base)</option>
                                <option value="0.8">Niche / Discovery (0.8x base)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="market-dma">Target NBA Market</label>
                            <select id="market-dma">
                                <option value="atlanta">Atlanta, GA (Hawks)</option>
                                <option value="boston">Boston, MA (Celtics)</option>
                                <option value="brooklyn">Brooklyn, NY (Nets)</option>
                                <option value="charlotte">Charlotte, NC (Hornets)</option>
                                <option value="chicago" selected>Chicago, IL (Bulls)</option>
                                <option value="cleveland">Cleveland, OH (Cavaliers)</option>
                                <option value="dallas">Dallas, TX (Mavericks)</option>
                                <option value="denver">Denver, CO (Nuggets)</option>
                                <option value="detroit">Detroit, MI (Pistons)</option>
                                <option value="sanfrancisco">San Francisco, CA (Warriors)</option>
                                <option value="houston">Houston, TX (Rockets)</option>
                                <option value="indianapolis">Indianapolis, IN (Pacers)</option>
                                <option value="lakers" selected>Los Angeles, CA (Lakers)</option>
                                <option value="clippers">Los Angeles, CA (Clippers)</option>
                                <option value="memphis">Memphis, TN (Grizzlies)</option>
                                <option value="miami">Miami, FL (Heat)</option>
                                <option value="milwaukee">Milwaukee, WI (Bucks)</option>
                                <option value="minneapolis">Minneapolis, MN (Timberwolves)</option>
                                <option value="neworleans">New Orleans, LA (Pelicans)</option>
                                <option value="newyork">New York, NY (Knicks)</option>
                                <option value="oklahomacity">Oklahoma City, OK (Thunder)</option>
                                <option value="orlando">Orlando, FL (Magic)</option>
                                <option value="philadelphia">Philadelphia, PA (76ers)</option>
                                <option value="phoenix">Phoenix, AZ (Suns)</option>
                                <option value="portland">Portland, OR (Trail Blazers)</option>
                                <option value="sacramento">Sacramento, CA (Kings)</option>
                                <option value="sanantonio">San Antonio, TX (Spurs)</option>
                                <option value="saltlakecity">Salt Lake City, UT (Jazz)</option>
                                <option value="toronto">Toronto, ON (Raptors)</option>
                                <option value="washingtondc">Washington, DC (Wizards)</option>
                            </select>
                        </div>
                        <div id="zip-code-container" class="input-group hidden">
                            <label for="zip-code">Target Zip Code (Efficiency Mode)</label>
                            <input type="text" id="zip-code" placeholder="e.g. 10001" maxlength="5">
                        </div>
                        <div class="input-group">
                            <label for="team-name">Sports Team</label>
                            <input type="text" id="team-name" placeholder="Auto-fills from market" disabled>
                        </div>
                        <div id="attendance-container" class="input-group">
                            <label for="team-attendance">Avg Game Attendance</label>
                            <input type="number" id="team-attendance" value="18324">
                        </div>
                    </div>
                </section>

                <div class="action-bar card glass-card">
                    <div class="button-group">
                        <button id="calculate-btn" class="primary-btn">Recalculate Strategic Value</button>
                        <button id="find-best-fit-btn" class="discovery-btn">
                            Find Best Strategic Fit (AI Discovery)
                        </button>
                    </div>
                    <div id="discovery-results" class="hidden"
                        style="margin-top: 2rem; padding: 2rem; border-radius: 24px; background: rgba(22, 103, 233, 0.05); border: 1px solid var(--primary-color); text-align: left;">
                        <h4
                            style="color: var(--primary-color); margin-bottom: 1.5rem; font-size: 1rem; letter-spacing: 1.5px; text-transform: uppercase; font-weight: 800;">
                            Strategic Ranking: Top 10 Fits</h4>
                        <div style="display: flex; gap: 3rem; align-items: flex-start;">
                            <div id="chart-container" style="height: 350px; flex: 2; min-width: 0;">
                                <canvas id="topFitChart"></canvas>
                            </div>
                            <div
                                style="flex: 1; padding: 2rem; background: rgba(255,255,255,0.03); border-radius: 20px; border: 1px solid rgba(255,255,255,0.05); display: flex; flex-direction: column; justify-content: center; min-height: 350px;">
                                <span
                                    style="font-size: 0.7rem; color: var(--primary-color); text-transform: uppercase; letter-spacing: 1px; font-weight: 800; margin-bottom: 1rem; display: block;">Primary
                                    Strategic Match</span>
                                <div id="winner-text"
                                    style="font-size: 1.5rem; font-weight: 800; margin-bottom: 1rem; color: #fff; line-height: 1.2;">
                                </div>
                                <p id="winner-reason"
                                    style="font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6;"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <section id="results-section" class="hidden">
                    <div class="valuation-summary">
                        <div class="final-value-card">
                            <label>Strategic Market Value</label>
                            <div id="final-strategic-value" class="value-amount">$0</div>
                            <div class="multiplier-badge" id="total-multiplier">1.0x total multiplier</div>
                        </div>
                        <div class="persona-delta-card">
                            <div
                                style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <h3 style="margin: 0;">Persona Delta</h3>
                                <div id="ai-status-container" style="display: flex; align-items: center; gap: 8px;">
                                    <span class="ai-status-badge" id="ai-status">Ready</span>
                                </div>
                            </div>

                            <div id="ai-affected-header" style="margin-bottom: 1rem; display: none;">
                                <div
                                    style="font-size: 0.65rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 6px;">
                                    Strategic Impact Factors:</div>
                                <div id="affected-factors-list" style="display: flex; flex-wrap: wrap; gap: 6px;"></div>
                            </div>

                            <div id="persona-delta-text" contenteditable="true"
                                title="Click to edit strategy. AI will interpret your text."
                                style="font-size: 1.1rem; color: var(--text-primary); font-weight: 300; line-height: 1.6; min-height: 80px; padding: 10px; border-radius: 8px; border: 1px solid transparent; transition: all 0.3s; cursor: text; outline: none;"
                                onfocus="this.style.border='1px solid var(--primary-color)'; this.style.background='rgba(255,255,255,0.03)';"
                                onblur="this.style.border='1px solid transparent'; this.style.background='transparent';">
                                Loading dynamic strategy...
                            </div>
                        </div>
                    </div>

                    <div class="matrix-container card glass-card">
                        <h2>Factor Decision Matrix</h2>
                        <div class="table-wrapper">
                            <table id="valuation-table">
                                <thead>
                                    <tr>
                                        <th>Factor</th>
                                        <th>Census Table</th>
                                        <th>Local Demo</th>
                                        <th>Fan Demo</th>
                                        <th>League/US Avg</th>
                                        <th>Multiplier</th>
                                        <th>Impact</th>
                                    </tr>
                                </thead>
                                <tbody id="matrix-body"></tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </div>

            <div id="comparison-tab" class="tab-content">
                <section class="card glass-card compare-inputs">
                    <h2>Market Benchmark Comparison</h2>
                    <div class="compare-grid">
                        <div class="input-group">
                            <label>Market A (Benchmark)</label>
                            <select id="compare-market-a" class="market-selector"></select>
                        </div>
                        <div class="compare-vs">VS</div>
                        <div class="input-group">
                            <label>Market B (Target)</label>
                            <select id="compare-market-b" class="market-selector"></select>
                        </div>
                    </div>
                    <button id="compare-btn" class="primary-btn">Analyze Market Delta</button>
                </section>

                <section id="comparison-results" class="hidden" style="margin-top: 2rem;">
                    <div id="comparison-summary" class="card glass-card"
                        style="margin-bottom: 2rem; text-align: center; border: 1px solid var(--primary-color);">
                        <h2 id="comparison-winner-title">Strategic Market Leader</h2>
                        <div class="compare-scores">
                            <div class="score-card">
                                <label id="score-label-a">Market A</label>
                                <div id="score-val-a" class="score-num">0.00x</div>
                            </div>
                            <div class="compare-vs-small" style="margin-top: 2rem;">VS</div>
                            <div class="score-card">
                                <label id="score-label-b">Market B</label>
                                <div id="score-val-b" class="score-num">0.00x</div>
                            </div>
                        </div>
                        <div id="compare-chart-container"
                            style="height: 300px; width: 100%; margin: 2rem 0; padding: 1rem; background: rgba(255,255,255,0.02); border-radius: 12px;">
                            <canvas id="comparisonChart"></canvas>
                        </div>
                        <p id="comparison-insight"
                            style="margin-top: 1rem; font-size: 1.1rem; color: var(--text-secondary);"></p>
                    </div>

                    <div class="comparison-matrix card glass-card">
                        <h2>Strategic Demographic Delta</h2>
                        <div class="table-wrapper">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Demographic Factor</th>
                                        <th id="header-market-a">Market A</th>
                                        <th id="header-market-b">Market B</th>
                                        <th>Variance (%)</th>
                                        <th>Strategic Opportunity</th>
                                    </tr>
                                </thead>
                                <tbody id="comparison-body"></tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <footer>
            <p>&copy; 2026 Trajektory. B2B Confidential.</p>
        </footer>
    </div>
    <script src="app.js"></script>
</body>

</html>